<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./../layout/staffTemplate.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui">

    <ui:define name="title">
        Create Staff
    </ui:define>

    <ui:define name="head">
        <h:outputStylesheet name="css/cssLayout.css"/>
        <h:outputStylesheet name="css/default.css"/>
    </ui:define>

    <ui:define name="content">
        
        <div class="createStaff">
            <p:card class="createStaffCard" style="width: 60%;">
                <div class="header" align="center">
                    <img src="../img/staff-icon.jpg" alt="" style="width: 150px"/>
                    <h2>Add New Staff to PetSociety</h2>
                </div>
                <div class="createStaffForm">
                    <h:form class="needs-validation">
                        <div align="center">
                            <p:messages showDetail="true" showSummary="true" skipDetailIfEqualsSummary="true" style="width: 300px"/>
                        </div>
                        <div class="form-group row">
                            <label for="firstNameS" class="col-sm-2 col-form-label">First Name</label>
                            <div class="col-sm-10">
                                <p:inputText type="text" class="form-control" id="firstNameS" placeholder="First Name" value="${staffManagedBean.firstName}" style="font-size: 12px" required="true" requiredMessage="First name required!"/>
                                <!--<p:messages for="firstNameS" closable="true" showDetail="true" showSummary="false"/>-->
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="lastNameS" class="col-sm-2 col-form-label">Last Name</label>
                            <div class="col-sm-10">
                                <p:inputText type="text" class="form-control" id="lastNameS" placeholder="Last Name" value="${staffManagedBean.lastName}" style="font-size: 12px" required="true" requiredMessage="Last name required!"/>
                                <!--<p:messages for="lastNameS" closable="true" showDetail="true" showSummary="false"/>-->
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="usernameS" class="col-sm-2 col-form-label">Username</label>
                            <div class="col-sm-10">
                                <p:inputText type="text" class="form-control" id="usernameS" placeholder="Username" value="${staffManagedBean.username}" style="font-size: 12px" required="true" requiredMessage="Username required!"/>
                                <small id="passwordHelpInline" class="text-muted">
                                    Must be 6-20 characters long.
                                </small>
                                <!--<p:messages for="usernameS" closable="true" showDetail="true" showSummary="false"/>-->
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="passwordS" class="col-sm-2 col-form-label">Password</label>
                            <div class="col-sm-10">
                                <p:inputText type="password" class="form-control" id="passwordS" placeholder="Password" value="${staffManagedBean.password}" style="font-size: 12px" required="true" requiredMessage="Password required"/>
                                <small id="passwordHelpInline" class="text-muted">
                                    Must be 6-20 characters long.
                                </small>
                                <!--<p:messages for="passwordS" closable="true" showDetail="true" showSummary="false"/>-->
                            </div>
                        </div>
                        <div align="center">
                            <p:commandButton id="createStaffButton" value="Add Staff" icon="pi pi-user-plus" action="${staffManagedBean.createNewStaff()}"
                                             style="font-size: 14px; background-color: #9f96fa; border-color: #9f96fa; padding-left: 5px; padding-right: 5px"/>
                        </div>
                    </h:form>
                </div>
            </p:card>
        </div>
        <script type='text/javascript' src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js">
                // Example starter JavaScript for disabling form submissions if there are invalid fields
                (function () {
                    'use strict';
                    window.addEventListener('load', function () {
                        // Fetch all the forms we want to apply custom Bootstrap validation styles to
                        var forms = document.getElementsByClassName('needs-validation');
                        // Loop over them and prevent submission
                        var validation = Array.prototype.filter.call(forms, function (form) {
                            form.addEventListener('submit', function (event) {
                                if (form.checkValidity() === false) {
                                    event.preventDefault();
                                    event.stopPropagation();
                                }
                                form.classList.add('was-validated');
                            }, false);
                        });
                    }, false);
                })();
        </script>
    </ui:define>

    <ui:define name="bottom">

    </ui:define>

</ui:composition>
